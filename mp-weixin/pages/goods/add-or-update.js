(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/goods/add-or-update"],{"2c2b":function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var n=r(t("a34a"));function r(e){return e&&e.__esModule?e:{default:e}}function a(e,o,t,n,r,a,u){try{var s=e[a](u),i=s.value}catch(c){return void t(c)}s.done?o(i):Promise.resolve(i).then(n,r)}function u(e){return function(){var o=this,t=arguments;return new Promise((function(n,r){var u=e.apply(o,t);function s(e){a(u,n,r,s,i,"next",e)}function i(e){a(u,n,r,s,i,"throw",e)}s(void 0)}))}}var s=function(){Promise.all([t.e("common/vendor"),t.e("components/w-picker/w-picker")]).then(function(){return resolve(t("e2cf"))}.bind(null,t)).catch(t.oe)},i={data:function(){return{cross:"",ro:{goodsName:!1,goodsTypes:!1,goodsPhoto:!1,goodsPinpai:!1,goodsNewMoney:!1,goodsCaizhi:!1,goodsFujia:!1,goodsCandi:!1,goodsContent:!1,createTime:!1},ruleForm:{goodsName:"",goodsTypes:"",goodsValue:"",goodsPhoto:"",goodsPinpai:"",goodsNewMoney:"",goodsCaizhi:"",goodsFujia:"",goodsCandi:"",goodsContent:"",createTime:""},user:{},goodsTypesOptions:[],goodsTypesIndex:0}},components:{wPicker:s},computed:{baseUrl:function(){return this.$base.url}},onLoad:function(e){var o=this;return u(n.default.mark((function t(){var r,a,u;return n.default.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r={page:1,limit:100,dicCode:"goods_types"},t.next=3,o.$api.page("dictionary",r);case 3:if(a=t.sent,o.goodsTypesOptions=a.data.list,!e.id){t.next=11;break}return o.ruleForm.id=e.id,t.next=9,o.$api.info("goods",o.ruleForm.id);case 9:u=t.sent,o.ruleForm=u.data;case 11:case"end":return t.stop()}}),t)})))()},methods:{goodsTypesChange:function(e){this.goodsTypesIndex=e.target.value,this.ruleForm.goodsValue=this.goodsTypesOptions[this.goodsTypesIndex].indexName,this.ruleForm.goodsTypes=this.goodsTypesOptions[this.goodsTypesIndex].codeIndex},goodsPhotoTap:function(){var e=this;this.$api.upload((function(o){e.ruleForm.goodsPhoto=e.$base.url+"upload/"+o.file,e.$forceUpdate(),e.$nextTick((function(){}))}))},createTimeConfirm:function(e){console.log(e),this.ruleForm.createTime=e.result,this.$forceUpdate()},getUUID:function(){return(new Date).getTime()},onSubmitTap:function(){var e=this;return u(n.default.mark((function o(){return n.default.wrap((function(o){while(1)switch(o.prev=o.next){case 0:if(e.ruleForm.goodsName){o.next=3;break}return e.$utils.msg("展柜名称不能为空"),o.abrupt("return");case 3:if(e.ruleForm.goodsPhoto){o.next=6;break}return e.$utils.msg("展柜图片不能为空"),o.abrupt("return");case 6:if(e.ruleForm.goodsPinpai){o.next=9;break}return e.$utils.msg("品牌不能为空"),o.abrupt("return");case 9:if(e.ruleForm.goodsCaizhi){o.next=12;break}return e.$utils.msg("材质不能为空"),o.abrupt("return");case 12:if(e.ruleForm.goodsFujia){o.next=15;break}return e.$utils.msg("附加功能不能为空"),o.abrupt("return");case 15:if(e.ruleForm.goodsCandi){o.next=18;break}return e.$utils.msg("产地不能为空"),o.abrupt("return");case 18:if(!e.ruleForm.id){o.next=23;break}return o.next=21,e.$api.update("goods",e.ruleForm);case 21:o.next=25;break;case 23:return o.next=25,e.$api.save("goods",e.ruleForm);case 25:e.$utils.msgBack("提交成功");case 26:case"end":return o.stop()}}),o)})))()},getDate:function(e){var o=new Date,t=o.getFullYear(),n=o.getMonth()+1,r=o.getDate();return"start"===e?t-=60:"end"===e&&(t+=2),n=n>9?n:"0"+n,r=r>9?r:"0"+r,"".concat(t,"-").concat(n,"-").concat(r)},toggleTab:function(e){this.$refs[e].show()}}};o.default=i},"55ca":function(e,o,t){"use strict";t.r(o);var n=t("baf6"),r=t("af89");for(var a in r)"default"!==a&&function(e){t.d(o,e,(function(){return r[e]}))}(a);t("f1c1");var u,s=t("f0c5"),i=Object(s["a"])(r["default"],n["b"],n["c"],!1,null,"084d91d1",null,!1,n["a"],u);o["default"]=i.exports},ac22:function(e,o,t){},af89:function(e,o,t){"use strict";t.r(o);var n=t("2c2b"),r=t.n(n);for(var a in n)"default"!==a&&function(e){t.d(o,e,(function(){return n[e]}))}(a);o["default"]=r.a},baf6:function(e,o,t){"use strict";t.d(o,"b",(function(){return r})),t.d(o,"c",(function(){return a})),t.d(o,"a",(function(){return n}));var n={wPicker:function(){return Promise.all([t.e("common/vendor"),t.e("components/w-picker/w-picker")]).then(t.bind(null,"e2cf"))}},r=function(){var e=this,o=e.$createElement;e._self._c},a=[]},bdb4:function(e,o,t){"use strict";(function(e){t("b6f1");n(t("66fd"));var o=n(t("55ca"));function n(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=t,e(o.default)}).call(this,t("543d")["createPage"])},f1c1:function(e,o,t){"use strict";var n=t("ac22"),r=t.n(n);r.a}},[["bdb4","common/runtime","common/vendor"]]]);